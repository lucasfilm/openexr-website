<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>OpenEXR</title>
  <script src="popUp.js" language="javascript"> </script>

  
</head>

<body background="images/exr_bkg2.jpg" bgcolor="#000000" leftmargin=0 topmargin=0 marginheight=0 marginwidth=0 alink="#00FFFF" link="#33ffFF" vlink="#33ffFF" text="#999999">
<STYLE>
    body  {font-family: Verdana, Arial, Helvetica, sans-serif; color:999999;}
    b     {font-family: Verdana, Arial, Helvetica, sans-serif;}
    td    {font-family: Verdana, Arial, Helvetica, sans-serif; color:999999;}
    table {font-family: Verdana, Arial, Helvetica, sans-serif;}
    p     {font-family: Verdana, Arial, Helvetica, sans-serif; color:999999;}
    a     {font-family: Verdana, Arial, Helvetica, sans-serif; text-decoration: none;}
    h5     {font-family: Verdana, Arial, Helvetica, sans-serif; color:cccccc;}
</STYLE>
<table width="770" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="270" valign="top">
      <table border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td colspan="2" align="left"><a href="index.html"><img src="images/exr_logo2.jpg" width="255" height="234" alt="" border="0"></a></td>
        </tr>
        <tr>
          <td valign="top"><!-- begin navigation -->
            <table width="182" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td><img src="images/spacer.gif" width="142" height="5" alt="" border="0"></td>
                <td><img src="images/spacer.gif" width="42" height="5" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="index.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">Home</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="about.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">About OpenEXR</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="samples.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">OpenEXR samples</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right" bgcolor="#202B2F"><a href="using.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">Using exrdisplay</font></a><br><br>
                <a href="#controls" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1" color="#009999">Revealing More Detail -</font></a><br>
                <a href="#modify" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1" color="#009999">Displaying the Image -</font></a><br><br>
                </td>
                <td bgcolor="#202B2F"><img src="images/arrow.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="documentation.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">Documentation</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="downloads.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">Downloads</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="license.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">License</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="links.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">Related links</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
              <tr>
                <td align="right"><a href="mailinglist.html" style="text-decoration: none;"><font face="Arial,Helvetica,sans-serif" size="1">Mailing lists</font></a></td>
                <td><img src="images/spacer.gif" width="42" height="28" alt="" border="0"></td>
              </tr>
            </table></td>
            <td width="80" valign="top"><img src="images/spacer.gif" width="80" height="2" alt="" border="0"></td>
        </tr>
      </table><!-- end navigation --></td>
    <td width="500" valign="top" bgcolor="#000000">
      <table width="500" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <br></br>
          <br></br>
          <br></br>
        </tr>
        <tr>
          <td valign="top"><!-- header --><font face="Verdana, Arial, Helvetica, sans-serif" size="3" color="#00cccc"><b><a name="top">Using exrdisplay</b></a></font></td>
        </tr>
        <tr>
          <td valign="top" bgcolor="#870F33"><img src="images/spacer.gif" width="10" height="1" alt="" border="0"></td>
        </tr>
        <tr>
          <td valign="top">
          <!-- begin content -->
          <p>&nbsp;</p>
          <font size="2" face="Verdana, Arial, Helvetica, sans-serif">
          <p><h5><a name="controls">Revealing More Detail in OpenEXR Images</a></h5>
	      <p>This section gives a short tutorial on using the <i>exrdisplay</i> program, which is included with the OpenEXR software distribution.
              <p>You can reveal more detail in OpenEXR images by changing the exposure using the <b>Exposure</b> slider. 
	      This operation is analogous to changing the exposure of a piece of film, lightening or darkening the image to reveal more detail at the high or low end.  

	      <p>With <i>exrdisplay</i>, however, changing the exposure does not affect image data itself, it simply changes the way that the original 16-bit floating-point pixel values in the image are converted to 8-bit integer data in the frame buffer.  We call the original 16-bit FP pixels the &quot;raw&quot; image data, and the converted 8-bit pixels the &quot;cooked&quot; image data.  When you change the exposure, you are &quot;re-cooking&quot; the data.

              <!-- <p><a href="exposure.html" style="text-decoration: none;">Click here for a detailed explanation of exposure.</a> -->
              <p>For example, in the following image you can see the light areas (fog) very 
              clearly but in the dark areas (rock closest to camera) the detail is too dark to 
              see. By changing the exposure to positive 3 (taking the image up 3 stops) 
              the detail in the dark areas becomes visible. However, you lose the detail in 
              the light areas because it is now too bright to see.
          <p>
          <table width="100%" bgcolor="#666666">
            <tr valign="top" bgcolor="#333333"> 
              <td><font face="Verdana, Arial, Helvetica, sans-serif" size="1"><b>Original image<br>0 exposure</b><br></font></td>
              <td><font face="Verdana, Arial, Helvetica, sans-serif" size="1"><b>Same image<br>Exposure adjusted to positive 3</b><br></font></td>
            </tr>
            <tr valign="top"> 
              <td align="center"><a href="javascript:OpenWinMed('view_02.html')"><img src="images/viewer_02_sm.jpg" width="195" height="137" border="0" alt=""></a></td>
              <td align="center"><a href="javascript:OpenWinMed('view_03.html')"><img src="images/viewer_03_sm.jpg" width="195" height="137" border="0" alt=""></a></td>
            </tr>
            <tr valign="top" bgcolor="#333333"> 
              <td align="center"><font face="Verdana, Arial, Helvetica, sans-serif" size="1" color="#"><a href="javascript:OpenWinMed('view_02.html')" style="text-decoration: none;">(click for larger image)</a></font></td>
              <td align="center"><font face="Verdana, Arial, Helvetica, sans-serif" size="1" color="#"><a href="javascript:OpenWinMed('view_03.html')" style="text-decoration: none;">(click for larger image)</a></font></td>
            </tr>
          </table>
<p align="right"><a href="#top" style="text-decoration: none;"><img src="images/top.gif" width="45" height="26" alt="back to top" border="0"></a></p>
          <font size="2" face="Verdana, Arial, Helvetica, sans-serif">
          <p><h5><a name="modify">How Your Image Is Displayed</a></h5>
              <p>The Viewer has other sliders that you can use to specify how your 16-bit OpenEXR 
              image is displayed on your 8-bit monitor:
              
              <ul><font size="2" face="Verdana, Arial, Helvetica, sans-serif">
                <li><b>Exposure</b> - sets the apparent exposure of the image on the display.  It lightens or darkens the displayed image, allowing you to reveal detail in the high or low end.
                <li><b>Defog</b> - subtracted from pixel values to compensate for fogging due to stray light in the recording device.
		            <li><b>kneeHigh and kneeLow</b> - pixel values between kneeHigh and kneeLow set the white level of the displayed image, determining which value is mapped to the maximum intensity of the monitor  (<i>exrdisplay</i> lets you set the white level between 3.5 and 7 f-stops above middle gray).
              </ul>
              <font size="2" face="Verdana, Arial, Helvetica, sans-serif">
              <p>The actual process for conversion from raw data to data ready for the display card happens 
              like this (as taken from comments from the exrdisplay source code):
              
              <ol><font size="2" face="Verdana, Arial, Helvetica, sans-serif">
                <li>Compensate for fogging by subtracting 
                  defog from the raw pixel values.
                <li>Multiply the defogged pixel values 
                  by 2<sup>(exposure + 2.47393)</sup>.
                <li>Values, which are now 1.0, are called &quot;middle gray.&quot; If defog 
                  and exposure are both set to 0.0, then middle gray corresponds to a raw pixel 
                  value of 0.18. In step 6, middle gray values will be mapped to an intensity 
                  3.5 f-stops below the display's maximum intensity.
                <li>Apply a knee function. The knee 
                  function has two 
                  parameters, kneeLow and kneeHigh. Pixel values 
                  below 2<sup>kneeLow</sup> are not changed by the knee 
                  function. Pixel values above kneeLow are lowered 
                  according to a logarithmic curve, such that the 
                  value 2<sup>kneeHigh</sup> is mapped to 2<sup>3.5</sup> (in step 6, 
                  this value will be mapped to the display's 
                  maximum intensity).
                <li>Gamma-correct the pixel values, 
                  assuming that the 
                  screen's gamma is 2.2.
                <li>Scale the values such that 
                  middle gray 
                  pixels are mapped to 84.66 (or 3.5 f-stops below 
                  the display's maximum intensity).
                <li>Clamp the values to [0, 255].
              </ol>
<p align="right"><a href="#top" style="text-decoration: none;"><img src="images/top.gif" width="45" height="26" alt="back to top" border="0"></a></p>
          
          <p>&nbsp;</p>
          
<font face="Arial,Helvetica,sans-serif" size="1" color="#993333">&#169; <script>var curDate=new Date(); document.write(curDate.getFullYear())</script>Copyright OpenEXR a Series of LF Projects, LLC and/or its contributors. All documentation on this website made available under a Creative Commons Attribution 4.0 International License.</FONT><br>
          <p>&nbsp;</p>
          <!-- end content --></td>
        </tr>
      </table></td>
  </tr>
</table>

</body>
</html>
